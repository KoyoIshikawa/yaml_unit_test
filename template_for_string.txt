import yaml
import os
import sys
import cheke_func
from string import Template

dir = os.getcwd()
account_env = sys.argv[1]

env, account_env = cheke_func.setup_value(account_env)
system = 'system'
section = 'section'
name_prefix = '{}-{}-{}'.format(system, env, section)

target = [
    {'file': '/Users/koyoishikawa/Desktop/python_yaml/list-distributions.yaml',
     'parameters': [Template('''{'elements': [${key}], 'expected_value': ''},''').substitute(key=key) for key in key_chain]
    }
]

# テンプレートファイルの読み込み
with open('template.txt', 'r') as f:
    template = Template(f.read())

    # テンプレートに変数を渡してレンダリング
    output = template.substitute(target=target)

    # レンダリング結果をファイルに書き込み
    with open(filename, 'w') as f:
        f.write(output)
